<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run an R Studio server instance on rocker-based image — docker_run_rserver • rockup</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Run an R Studio server instance on rocker-based image — docker_run_rserver" />
<meta property="og:description" content="A wrapper for the docker function used to run a R Studio server process on a
specified docker image. The docker image must be based on
rocker. This will be available at the
port specified on the host. Currently, the permissions argument operates
through setting a USERID and GROUPID, which are by default set to my
user's settings. The USERID and GROUPID of the current user can be
checked using the id bash command. In order to make sure your volumes have
the correct permissions, these settings should be modified to match the user
of interest." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rockup</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rockup.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rytenlab/rockup/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run an R Studio server instance on rocker-based image</h1>
    <small class="dont-index">Source: <a href='https://github.com/rytenlab/rockup/blob/master/R/docker_run_rserver.R'><code>R/docker_run_rserver.R</code></a></small>
    <div class="hidden name"><code>docker_run_rserver.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A wrapper for the docker function used to run a R Studio server process on a
specified docker image. The docker image must be based on
<a href='https://github.com/rocker-org/rocker'>rocker</a>. This will be available at the
<code>port</code> specified on the host. Currently, the <code>permissions</code> argument operates
through setting a <code>USERID</code> and <code>GROUPID</code>, which are by default set to my
user's settings. The <code>USERID</code> and <code>GROUPID</code> of the current user can be
checked using the <code>id</code> bash command. In order to make sure your volumes have
the correct permissions, these settings should be modified to match the user
of interest.</p>
    </div>

    <pre class="usage"><span class='fu'>docker_run_rserver</span><span class='op'>(</span>
  <span class='va'>image</span>,
  port <span class='op'>=</span> <span class='fl'>8888</span>,
  password <span class='op'>=</span> <span class='st'>"bioc"</span>,
  name <span class='op'>=</span> <span class='st'>"rockup_container"</span>,
  detach <span class='op'>=</span> <span class='cn'>TRUE</span>,
  rm <span class='op'>=</span> <span class='cn'>FALSE</span>,
  volumes <span class='op'>=</span> <span class='cn'>NULL</span>,
  volumes_ro <span class='op'>=</span> <span class='cn'>NULL</span>,
  permissions <span class='op'>=</span> <span class='cn'>NULL</span>,
  USERID <span class='op'>=</span> <span class='cn'>NULL</span>,
  GROUPID <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  return_flags <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>image</th>
      <td><p><code>character(1)</code> the name of the <code>rocker</code> image to use.</p></td>
    </tr>
    <tr>
      <th>port</th>
      <td><p><code>integer(1)</code> the port to present R Studio server at`.</p></td>
    </tr>
    <tr>
      <th>password</th>
      <td><p><code>character(1)</code> the password to used for R Studio server.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p><code>character(1)</code> the name for the container.</p></td>
    </tr>
    <tr>
      <th>detach</th>
      <td><p><code>logical(1)</code> whether to use the <code>-d</code> flag when running the
container. Should the container continue to run in the background after
<code>docker run</code> has executed?</p></td>
    </tr>
    <tr>
      <th>rm</th>
      <td><p><code>logical(1)</code> whether to use the <code>-rm</code> flag when running the
container. Should the container be removed when stopped?</p></td>
    </tr>
    <tr>
      <th>volumes</th>
      <td><p><code>character(1)</code> the paths for the host files/directories that
you want accessible in the container. See argument <code>permissions</code> for
read/write access to these. Can either be a path on host or in the form
"host_path:container_path".</p></td>
    </tr>
    <tr>
      <th>volumes_ro</th>
      <td><p><code>character(1)</code> the paths for the host files/directories
that you want to have read-only access for in the container. This option is
recommended for any volumes you don't need to modify.</p></td>
    </tr>
    <tr>
      <th>permissions</th>
      <td><p><code>character(1)</code> if set to "match" (be careful!), then the
permissions of the mounted volumes on the container, will match that of the
host. I.e. the user executing the docker command will have permissions to
read/write/execute in the container as they did on the host.</p></td>
    </tr>
    <tr>
      <th>USERID</th>
      <td><p><code>integer(1)</code> the USERID of the user for which you would like
the permissions of the mounted volumes to match.</p></td>
    </tr>
    <tr>
      <th>GROUPID</th>
      <td><p><code>integer(1)</code> the GROUPID of the user for which you would like
the permissions of the mounted volumes to match.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical(1)</code> whether to display the command to be run (for
debugging purposes).</p></td>
    </tr>
    <tr>
      <th>return_flags</th>
      <td><p><code>logical(1)</code> whether to return the flags to be inputted
into <code>docker run</code>, rather than run the command. Mainly here for testing and
roxygen example.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>The solution for the <code>permissions</code> of the <code>volumes</code> was taken
from
https://github.com/rocker-org/rocker/wiki/Sharing-files-with-host-machine.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'></span>
<span class='r-in'><span class='co'># below is an example of running docker_run_rserver with minimal config</span></span>
<span class='r-in'><span class='co'># importantly, return_flags is set to TRUE</span></span>
<span class='r-in'><span class='co'># so this command will NOT execute the docker run command</span></span>
<span class='r-in'><span class='co'># only return the flags that would be run, were return_flags set to FALSE</span></span>
<span class='r-in'><span class='co'># this is purely for the roxygen example</span></span>
<span class='r-in'><span class='co'># in practice, users should set return_flags to FALSE</span></span>
<span class='r-in'><span class='va'>docker_flags</span> <span class='op'>&lt;-</span> <span class='fu'>docker_run_rserver</span><span class='op'>(</span></span>
<span class='r-in'>  image <span class='op'>=</span> <span class='st'>"bioconductor/bioconductor_docker:RELEASE_3_13"</span>,</span>
<span class='r-in'>  port <span class='op'>=</span> <span class='fl'>8888</span>,</span>
<span class='r-in'>  name <span class='op'>=</span> <span class='st'>"your_container_name"</span>,</span>
<span class='r-in'>  return_flags <span class='op'>=</span> <span class='cn'>TRUE</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># the docker command that would run on the system if return_flags = FALSE</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"docker"</span>, <span class='va'>docker_flags</span><span class='op'>)</span>, collapse <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "docker run --env PASSWORD=bioc --publish 8888:8787 --detach --name your_container_name bioconductor/bioconductor_docker:RELEASE_3_13"</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Zhang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


